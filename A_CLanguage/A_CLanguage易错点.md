# 常见考试内容

## 一、C语言概述与简单算法

1. C程序的基本组成单位是函数

2. main函数习惯上称为主函数，但其实他也是普通函数

3. 求每一位的数算法

   十位：int a = k / 10; 例：23/10 = 2.3 - 2（int整型）

   个位：int a = k % 10;

4. 大小写转换，ASCII中`A=65，a=97`两者相差32

5. C语言程序经过预处理、编译、汇编、链接后才可以执行

   - C源程序经编译形成的二进制代码可以直接运行；❌
   - C语言中的函数不可以单独进行编译❌
   - C语言中的每条可执行语句最终都将被转换成二进制的机器指令✔

6. 三元运算符：`a<b?a:c<d?c:d` 等价于 `a<b?a:(c<d?c:d)` 

7. 位运算

   1. 位运算的对象只能是整型或字符型
   2. 左移1位是原数的2倍，左移2位是4倍

## 二、数据类型、运算符、表达式

1. 逗号运算（，）是逗号表达式，区别赋值表达式，运算表达式等其他表达式；

   `d=9+e,e++,d+9` 

   逗号表达式的计算结果是最后一个表达式的值

   `x = (i=4, j=16, k=32）; // X的值是32` 

2. 单目运算符、三目运算符和赋值运算符的结合性是从右到左。

3. 优先级：**参考课本附录C符号与运算符优先级**

4. 变量命名方式

   - 字母数字下划线组成
   - 开头只能以**字母下滑线** 

5. 八进制以 0 开头（例如：011、056），八进制取值只能取0-7

6. 十六进制以 0x 开头（例如：0xff、0x12），十六进制取值 0123456789ABCDEF

7. 实数型e

   - A e M= $ A\times 10^M $
   - M不能为小数、空数；例如：3e1.3（错误），3e（错误）
   - A不能以0开头（八进制才0开头）
   - M为负数表示小数；

8. 转义字符

   | 转移字符 | 意义                                | ASCII码值（十进制） |
   | -------- | ----------------------------------- | ------------------- |
   | \a       | 响铃(BEL)                           | 007                 |
   | \b       | 退格(BS) ，将当前位置移到前一列     | 008                 |
   | \f       | 换页(FF)，将当前位置移到下页开头    | 012                 |
   | \n       | 换行(LF) ，将当前位置移到下一行开头 | 010                 |
   | \r       | 回车(CR) ，将当前位置移到本行开头   | 013                 |
   | \t       | 水平制表(HT)                        | 009                 |
   | \v       | 垂直制表(VT)                        | 011                 |
   | \'       | 单引号                              | 039                 |
   | \"       | 双引号                              | 034                 |
   | \\       | 反斜杠                              | 092                 |
   | \ddd     | 八进制，最多有3位                   | 例：\061,\001       |
   | \xdd     | 十六进制，最多有2位                 | 例：\x61,\xff       |

9. 类型相同才能一起运算

   C语言中，函数值类型的定义可以缺省，此时函数值的隐含类型是 int

   隐式转换从低精度转换向高精度：$char \to int \to float \to double$ 

   ``` c
   int x；
   double i；
   x/i; //需要将x隐式转换，才能计算
   ```

10. 运算表达式必须在右边，例如：`a = a*3 = 4 ` （a\*3不能在左边）

11. 强制转换：`a = (int)b` 

12. 运算符 % 要求左右操作数必须是整数。

    - 取值范围（M任意数）： M % 6 可取的范围为 0~5，共6个值
    - 取值范围（M任意数）： M % 10 可取的范围为 0~9，共10个值

13. 字节大小

    - 基本类型分为：字符、整型、实型（float、double）、枚举

    - | 位数bit  | 4    | 8         | 12   | 16    | 20      |
      | -------- | ---- | --------- | ---- | ----- | ------- |
      | 二进制数 | 1111 | 1111 1111 |      |       |         |
      | 十进制数 | 15   | 255       | 4095 | 65535 | 1048575 |

    - | 大小 | 2             | 1    | 2    | 4     | 8      |
      | ---- | ------------- | ---- | ---- | ----- | ------ |
      | 类型 | unsigned char | char | int  | float | double |
      | 范围 | 255           |      |      |       |        |

## 三、printf

详见C_lib.md中的printf函数

## 四、scanf

详见C_lib.md中的scanf函数

## 五、逻辑运算符和优先级

1. 赋值运算符 < 逻辑运算符 < 关系运算符 < 算数运算符（双目运算符） < 单目运算符
   - 更详细的查看 课本附录C
   - `!` 是单目运算符，不是逻辑运算符
   - `!=` 是关系运算符

2. 短路算法：详见本文“、逻辑运算符”

3. 常用逻辑运算符

   - 情况一，A B同真同假；&&与 || 的结果与AB相同

     例：AB为真（1）则；A&&B=1

     例：AB为假（0）则；A || B=0

   - 情况二，AB一真一假；&&与 || 的结果与符号相同（&&为0，||为1）

     例：AB一真一假；A&&B=0

     例：AB一真一假；A||B=1

   ```c
   && //两个数同时为真才为真
   || //有1个为真即为真
   ！ // 取反
   ^  // 异或操作，相同为0不同为1
   ```
   
4. 短路求值

   - &&为0，||为1

   - 只看最左边第一个表达式的结果，表达式结果与逻辑运算符相同退出运算

     情况1：&&（0），左边第一个表达式为0，退出运算

     情况2：||（1），左边第一个表达式为1，退出运算

   ```c
   // &&（0）逻辑与，如果第一个运算为假（0），退出运算（第2个运算短路）
   (a = 0) && (b = 1); // a=0假， 退出运算(不执行b=1)
   (a = 1) && (b = 1); // a=1真， 继续运算（执行b=1)
   
   // || 逻辑或，如果第一个为真（1），退出运算（第2个运算短路）
   (a = 1) || (b = 1); // a=1真， b=1（短路）
   (a = 0) || (b = 1); // a=0, b=1, 先运行a=0,假，再运行b=1真，其整体结果为真，a,b都运行 
   ```



## 六、if结构

1. if后面可以直接跟语句直到；结束

   ``` c
   if(a<b) x=1;
   if(a<b) if(c<d) if(e<a); 
   //等价于
   if (a<b) { 
       if(c<d) { 
           if(e<a); 
       }
   }
   ```

2. if与**最近**的else匹配

   ``` c
   /* 第一个if一定与最后一个else匹配 */
   if(a<b) // 与9行匹配
   	if(c<d) x=1; //与4行匹配
   	else
           if(a<c) //与8行匹配
               if(b<d) x=2;//与7行匹配
               else x=3;
           else x=6;
   else x=3;
   
   /*例二*/
   if (x < y) // if只与自己最近的else匹配
       if (y < 0) z = 0; 
       else z = z + 1; // 与13行对应
   ```

3. `if（*）` \* 不能为赋值式，例如：`if（a=b）`错误写法

4. `if（*）` \* 可以为其他任意表达式（除3声明）

   例如：`if（a>b>c）`计算方法从左向右，设`a>b`为真（1），再计算`1>c`的值 

## 七、循环控制

1. `while（*）`，\* 不能为赋值式，例如：`while（a=b）`错误写法

2. `while（*）`，\*  可以为其他任意表达式（除1声明）

   例如：`while（a>b>c）;`计算方法从左向右，设`a>b`为真（1），再计算`1>c`的值

3. `for（exp1; ; exp3）` 与 `for（exp1; 1; exp3）` 都是死循环

4. `for（exp1; exp2; exp3）`只有 exp2 为真，才运行循环体

5. ``` c
   // 不会执行，因为 j=0 为假，
   for(i = 0, j =- 1;j = 0;i++, j++){
       k++;
   }
   ```

## 八、switch结构

1. switch语句不能缺少break，缺少break会自动给向下执行，并不会跳出switch结构

   ``` c
   switch(c=getchar()) {
       case 'a': a++; //若c=a，则会运行2次a++,因为b才右break
       case 'b': a++;break;
       // 因为default不在最后一行，且没有break，若c不为abc，都会运行default与case 'c'语句
       default: a++; 
       case 'c': a++;
   }
   ```

## 九、数组

1. 数组下标的数据类型为：常量表达式

   `int a[ 常量表达式 ]`

   - 例：`int a[b]；int a[b+1]；` 
   - 没有常量表达式选择：整型常量或整型表达式

2. 二维数组必须指定列的数值，不然错误；例：`int a[3][]` ❌

3. `int a[2][3] = { {1,2,3}, {4,5,6} }; ` 其中{123}表示行，123表示列

    - `int a[2][4] = {{1,2,3},{2,3},{4}}` 错误；

      `a[2][4]`最多2行（2个{}）而`{{1,2,3},{2,3},{4}}`中有3个{}，多了一个`{4}` 

4. `int a[10] = { 3*8 };`  等价于  `a[0]=24; ` 数组的其他项都未定义

5. 数组定义时，数组的内容是随机的，直到第一次赋值后，没有指定数值的元素会赋值0

6. C语言的字符串变量之间不能直接赋值，必须使用字符函数赋值

    ``` c
    int a[] = "abc";
    int b[] = "eee";
    a = b; //错误，必须使用字符串函数
    ```

7. 数组变量：`int a[ ][2] = {{1, 2}, {3, 4}, {5, 6}} ` 

    则：`a[0][0]=1, a[0][1]=2, a[1][0]=3, a[1][1]=4, a[2][0]=5, a[2][1]=6.` 

8. s

## 九、函数

1. 函数定义不可以嵌套，函数调用可以嵌套

2. 用户可以自定义函数库，甚至包括系统定义的标准的函数库，但用户定义会重写系统函数库。

3. 实参与其对应的形参占用独立的存储单元；

   但当实参为“表达式”时（本质还是指针）或“指针”时，实参与形参是一个存储单元

   ``` c
   int function(int a, int b, int c) {
       // 形参，不修改C的内容，只在当前函数生效
       c =  a * b;
   }
   int main(void) {
       int c = 0;
       function(10,20, c);
       printf("%d", c);
   }
   ```

4. 函数的返回值由函数类型决定

    没有return语句，指系统不能返回一个确定的值

    ``` c
    // 这个函数的返回值是int类型，与return返回的值无关
    int func(){  }
    // 虽然return的返回值是float类型，但定义的函数返回值是int，所以最终结果是1
    int func(){ return 1.22}
    ```

5. 实参可以是任意类型，但形参只能是实参的类型
6. 形参与实参类型不一致，以形参为主（因为形参是定义）

    ``` c
    void func(int a) {
        //这里的a的值为1
    }
    int main() {
        float xx=1.222;
        func(xx);
    }
    ```

7. C语言允许函数值类型缺省定义，默认为int类型

## 十、预编译处理

1. C语言的编译是在程序运行前
2. 预处理命令以 `#` 开头
3. 一行只能有一条预处理命令
4. `#include "xxx" `表示先在源程序所在目录进行搜索，再按照标准的搜索方式搜索（系统默认的目录）
5. `#include <xxx> ` 表示按照标准的搜索方式搜索（系统默认的目录）

预编译使用

``` c
/* define使用 */
#define MAX 1 // 替换MAX为1
#undef MAX // 取消MAX定义
// 预处理运算符
#define message(a,b) ((a) * (b))

/* ifdef */
#ifdef DEBUG
	//DEBUG为真，运行
#endif
#ifndef DEBUG
	//DEBUG为假，运行
#endif

/* elif */
#if
#elif  
// 若#if, #ifdef, #ifndef或前面的#elif条件不满足，则执行#elif之后的语句，
// 相当于C语法中的else-if（扩展条件）

```

## 十一、指针

1. 指针查错题应注意
   - 函数传值，传地址，实参形参相对应
   - 函数返回值与函数定义相同

2. 两个指针变量之间的运算

    - 相加：无意义
    - 相减：计算偏移量
    - 比较：地址变量比较可知数据存储哪个位于高位，大端存储和小端存储模式可通过地址比较得到 

3. 指针运算

    ``` c
    int a[10] = {0,1,2,3,4,5,6,7,8,9};
    int *p = a+3;
    
    int *p = a;
    p = p+3; // 等假于a[3] 
    ```

4. 指针指向的空间必须是明确的，不明确的都错；未知指针（未知内容）不能使用 *

    ``` c
    /* 指针a的指向空间是未知的，不能将未知空间赋值为指针 */ 
    int *a, *p;
    q = a; //错误
    
    /* a是初始化的变量，a的地址是已知的，但a的内容是未知的，未知指针（未知内容）不能使用 * */ 
    int a, *p;
    p = &a;
    *p; // 错误
    
    /* 不能将非地址内容赋值给指针 */ 
    int a=2,*p;
    p = a; // 错误
    ```

5. 区分`p = &a; *p = &a;`

    ``` c
    // 1步，将a的地址放到p中
    p = &a; 
    // 第一步，取a的地址，第二步，取p指向的值，第三步，修改p的值为a的地址
    *p = &a;
    ```

6. `int *p[4]`：指针数组，[]优先级高于*

    p是一个数组，数组的每一个元素是指向双精度实型数据的指针

    ``` c
    int a[3] = {0,1,2};
    // 定义赋值
    int *p[3] = {&a[0], &a[1], &a[2]};
    // 赋值
    int *p[3];
    p[0] = &a[0];
    ```

7. `int (*p)[4]`：一个指向元素个数为4的int数组的指针

## 十二、结构体

1. 结构体类型中各个成员的类型可以不一致
2. 结构体里可以有其它已定义的结构体类型、C语言已经预定义的基本数据类型
3. 定义结构体时只是声明了一种类型，并没有实例化，因而也就没有分配内存空间